{
  "hash": "555c89008c9dcf381f8a1b9827692c54",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: \"Cap√≠tulo 5 ‚Äî Estad√≠sticas descriptivas (tablas, gr√°ficos y resumen)\"\n---\n\n[üöÄ Abrir este cap√≠tulo en Google Colab](https://colab.research.google.com/github/FraRafa/manual/blob/main/notebooks/05-estadisticas-descriptivas.ipynb){.btn .btn-success target=\"_blank\"}\n\n\n::: {.callout-note}\n## Objetivos del cap√≠tulo\n\nAl terminar este cap√≠tulo vas a poder:\n\n- construir **tablas de frecuencia** y **porcentajes** con `value_counts`,\n- crear **tablas de contingencia** con `pd.crosstab` y normalizarlas,\n- graficar categor√≠as con **pastel**, **barras**, **apiladas** y **agrupadas**,\n- visualizar variables num√©ricas con **histograma** (frecuencia o densidad) y **boxplot**,\n- construir una **ECDF** (distribuci√≥n acumulada emp√≠rica) con `numpy`,\n- calcular estad√≠sticos y matrices con `describe`, `var`, `std`, `cov`, `corr`.\n:::\n\n---\n\n## 1. Qu√© haremos (enfocado en Python)\n\nEste cap√≠tulo no es para ‚Äúexplicar estad√≠stica‚Äù.  \nAqu√≠ nos concentramos en **c√≥mo escribir el c√≥digo** para resumir y visualizar datos.\n\n::: {.column-margin}\n<details>\n<summary><strong>Glosario</strong></summary>\n\n- **frecuencia**: cu√°ntas veces aparece un valor.\n- **proporci√≥n**: frecuencia / total.\n- **crosstab**: tabla cruzada (contingencia).\n- **densidad**: histograma escalado para que el √°rea total sea 1 (`density=True`).\n- **KDE**: estimaci√≥n de densidad (Kernel Density Estimation).\n- **boxplot**: gr√°fico de caja y bigotes.\n- **cov / corr**: covarianza / correlaci√≥n.\n</details>\n:::\n\n---\n\n## 2. Datos de ejemplo (local)\n\nUsamos datos peque√±os **locales** para practicar la sintaxis (sin depender de internet).\n\n::: {#360ecc8f .cell execution_count=2}\n``` {.python .cell-code}\nimport numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\n\nnp.random.seed(123)\n\ndf = pd.DataFrame({\n    \"marriage\": np.random.choice([\"mala\", \"regular\", \"buena\"], size=80, p=[0.2, 0.35, 0.45]),\n    \"haskids\":  np.random.choice([\"sin hijos\", \"con hijos\"], size=80, p=[0.55, 0.45]),\n    \"roe\":      np.clip(np.random.normal(loc=12, scale=6, size=80), -10, 40),\n    \"salary\":   np.clip(np.random.normal(loc=120, scale=35, size=80), 20, 300)\n})\ndf.head()\n```\n\n::: {.cell-output .cell-output-display execution_count=2}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>marriage</th>\n      <th>haskids</th>\n      <th>roe</th>\n      <th>salary</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>buena</td>\n      <td>sin hijos</td>\n      <td>21.113194</td>\n      <td>93.354701</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>regular</td>\n      <td>con hijos</td>\n      <td>9.875999</td>\n      <td>120.127580</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>regular</td>\n      <td>con hijos</td>\n      <td>7.059412</td>\n      <td>76.051596</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>buena</td>\n      <td>sin hijos</td>\n      <td>12.781290</td>\n      <td>100.682209</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>buena</td>\n      <td>con hijos</td>\n      <td>19.603792</td>\n      <td>111.417883</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n::: {.callout-note}\n### Sintaxis clave (crear datos)\n\n- `pd.DataFrame({...})` crea una tabla (DataFrame).\n- `np.random.choice([...], size=n)` genera categor√≠as aleatorias.\n- `np.random.normal(loc, scale, size)` genera n√∫meros.\n- `np.clip(x, a, b)` fuerza a que `x` quede entre `a` y `b`.\n:::\n\n---\n\n## 3. Categor√≠as: frecuencias y gr√°ficos\n\n### 3.1 Frecuencias y porcentajes (`value_counts`)\n\n::: {#3275ba8e .cell execution_count=3}\n``` {.python .cell-code}\nfreq = df[\"marriage\"].value_counts()\nfreq\n```\n\n::: {.cell-output .cell-output-display execution_count=3}\n```\nmarriage\nbuena      36\nregular    32\nmala       12\nName: count, dtype: int64\n```\n:::\n:::\n\n\n::: {#9ef9d954 .cell execution_count=4}\n``` {.python .cell-code}\ndf[\"marriage\"].value_counts(normalize=True) * 100\n```\n\n::: {.cell-output .cell-output-display execution_count=4}\n```\nmarriage\nbuena      45.0\nregular    40.0\nmala       15.0\nName: proportion, dtype: float64\n```\n:::\n:::\n\n\n::: {.callout-note}\n### Sintaxis clave (`value_counts`)\n\n- `serie.value_counts()` ‚Üí conteos por categor√≠a.\n- `normalize=True` ‚Üí proporciones (suman 1). Multiplica por 100 si quieres porcentaje.\n:::\n\n---\n\n### 3.2 Pastel (pie chart)\n\n::: {#a4a75ff4 .cell execution_count=5}\n``` {.python .cell-code}\nfreq.plot(kind=\"pie\", autopct=\"%1.1f%%\")\nplt.ylabel(\"\")  # quita etiqueta del eje y\nplt.title(\"marriage ‚Äî gr√°fico de pastel\")\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](05-estadisticas-descriptivas_files/figure-html/cell-6-output-1.png){width=439 height=466}\n:::\n:::\n\n\n::: {.callout-note}\n### Sintaxis clave (pie)\n\n- `freq.plot(kind=\"pie\")` grafica desde una Serie.\n- `autopct=\"...\"` muestra porcentajes dentro del pastel.\n- `plt.show()` ‚Äúcierra‚Äù y muestra la figura (buena pr√°ctica).\n:::\n\n---\n\n### 3.3 Barras horizontales\n\n::: {#72838904 .cell execution_count=6}\n``` {.python .cell-code}\nfreq.sort_values().plot(kind=\"barh\")\nplt.title(\"marriage ‚Äî barras horizontales\")\nplt.xlabel(\"frecuencia\")\nplt.ylabel(\"categor√≠a\")\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](05-estadisticas-descriptivas_files/figure-html/cell-7-output-1.png){width=862 height=516}\n:::\n:::\n\n\n---\n\n## 4. Tablas por subgrupos y contingencia (`crosstab`)\n\n### 4.1 Tabla cruzada (conteos)\n\n::: {#454d7e00 .cell execution_count=7}\n``` {.python .cell-code}\ntabla = pd.crosstab(df[\"marriage\"], df[\"haskids\"])\ntabla\n```\n\n::: {.cell-output .cell-output-display execution_count=7}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th>haskids</th>\n      <th>con hijos</th>\n      <th>sin hijos</th>\n    </tr>\n    <tr>\n      <th>marriage</th>\n      <th></th>\n      <th></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>buena</th>\n      <td>14</td>\n      <td>22</td>\n    </tr>\n    <tr>\n      <th>mala</th>\n      <td>7</td>\n      <td>5</td>\n    </tr>\n    <tr>\n      <th>regular</th>\n      <td>17</td>\n      <td>15</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n::: {.callout-note}\n### Sintaxis clave (`crosstab`)\n\n- `pd.crosstab(filas, columnas)` ‚Üí tabla de conteos.\n- Funciona perfecto para variables categ√≥ricas.\n:::\n\n---\n\n### 4.2 Barras apiladas y agrupadas\n\n::: {#0ef7384d .cell execution_count=8}\n``` {.python .cell-code}\ntabla.plot(kind=\"bar\", stacked=True)\nplt.title(\"marriage vs haskids ‚Äî barras apiladas\")\nplt.xlabel(\"marriage\")\nplt.ylabel(\"frecuencia\")\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](05-estadisticas-descriptivas_files/figure-html/cell-9-output-1.png){width=824 height=559}\n:::\n:::\n\n\n::: {#99ab1965 .cell execution_count=9}\n``` {.python .cell-code}\ntabla.plot(kind=\"bar\", stacked=False)\nplt.title(\"marriage vs haskids ‚Äî barras agrupadas\")\nplt.xlabel(\"marriage\")\nplt.ylabel(\"frecuencia\")\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](05-estadisticas-descriptivas_files/figure-html/cell-10-output-1.png){width=824 height=559}\n:::\n:::\n\n\n---\n\n### 4.3 Tablas normalizadas (proporciones)\n\n::: {#57fbb98d .cell execution_count=10}\n``` {.python .cell-code}\npd.crosstab(df[\"marriage\"], df[\"haskids\"], normalize=True)\n```\n\n::: {.cell-output .cell-output-display execution_count=10}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th>haskids</th>\n      <th>con hijos</th>\n      <th>sin hijos</th>\n    </tr>\n    <tr>\n      <th>marriage</th>\n      <th></th>\n      <th></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>buena</th>\n      <td>0.1750</td>\n      <td>0.2750</td>\n    </tr>\n    <tr>\n      <th>mala</th>\n      <td>0.0875</td>\n      <td>0.0625</td>\n    </tr>\n    <tr>\n      <th>regular</th>\n      <td>0.2125</td>\n      <td>0.1875</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n::: {#b84f3f7d .cell execution_count=11}\n``` {.python .cell-code}\npd.crosstab(df[\"marriage\"], df[\"haskids\"], normalize=\"index\")\n```\n\n::: {.cell-output .cell-output-display execution_count=11}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th>haskids</th>\n      <th>con hijos</th>\n      <th>sin hijos</th>\n    </tr>\n    <tr>\n      <th>marriage</th>\n      <th></th>\n      <th></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>buena</th>\n      <td>0.388889</td>\n      <td>0.611111</td>\n    </tr>\n    <tr>\n      <th>mala</th>\n      <td>0.583333</td>\n      <td>0.416667</td>\n    </tr>\n    <tr>\n      <th>regular</th>\n      <td>0.531250</td>\n      <td>0.468750</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n::: {#6606fd98 .cell execution_count=12}\n``` {.python .cell-code}\npd.crosstab(df[\"marriage\"], df[\"haskids\"], normalize=\"columns\")\n```\n\n::: {.cell-output .cell-output-display execution_count=12}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th>haskids</th>\n      <th>con hijos</th>\n      <th>sin hijos</th>\n    </tr>\n    <tr>\n      <th>marriage</th>\n      <th></th>\n      <th></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>buena</th>\n      <td>0.368421</td>\n      <td>0.523810</td>\n    </tr>\n    <tr>\n      <th>mala</th>\n      <td>0.184211</td>\n      <td>0.119048</td>\n    </tr>\n    <tr>\n      <th>regular</th>\n      <td>0.447368</td>\n      <td>0.357143</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n::: {.callout-note}\n### Sintaxis clave (normalize)\n\n- `normalize=True` ‚Üí proporci√≥n del total (toda la tabla suma 1).\n- `normalize=\"index\"` ‚Üí proporciones por fila (cada fila suma 1).\n- `normalize=\"columns\"` ‚Üí proporciones por columna (cada columna suma 1).\n:::\n\n---\n\n## 5. Num√©ricas: histogramas, densidad y ECDF\n\n### 5.1 Histograma (frecuencia)\n\n::: {#f80e347c .cell execution_count=13}\n``` {.python .cell-code}\nplt.hist(df[\"roe\"], bins=12)\nplt.title(\"Histograma de ROE (frecuencia)\")\nplt.xlabel(\"roe\")\nplt.ylabel(\"frecuencia\")\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](05-estadisticas-descriptivas_files/figure-html/cell-14-output-1.png){width=840 height=516}\n:::\n:::\n\n\n### 5.2 Histograma (densidad)\n\n::: {#7c376e8c .cell execution_count=14}\n``` {.python .cell-code}\nplt.hist(df[\"roe\"], bins=12, density=True)\nplt.title(\"Histograma de ROE (densidad)\")\nplt.xlabel(\"roe\")\nplt.ylabel(\"densidad\")\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](05-estadisticas-descriptivas_files/figure-html/cell-15-output-1.png){width=840 height=516}\n:::\n:::\n\n\n::: {.callout-note}\n### Sintaxis clave (`density=True`)\n\n- `density=True` cambia la escala: el √°rea total del histograma ‚âà 1.\n- √ötil para comparar distribuciones entre grupos o muestras distintas.\n:::\n\n---\n\n### 5.3 Densidad KDE (opcional)\n\nLa KDE puede depender de paquetes extra. En el manual (Quarto) la dejamos desactivada.  \nEn Colab puedes activarla si tienes lo necesario.\n\n::: {#77c473ef .cell execution_count=15}\n``` {.python .cell-code}\ndf[\"roe\"].plot(kind=\"density\")\nplt.title(\"KDE de ROE (opcional)\")\nplt.xlabel(\"roe\")\nplt.show()\n```\n:::\n\n\n---\n\n### 5.4 ECDF (acumulada emp√≠rica)\n\n::: {#362210eb .cell execution_count=16}\n``` {.python .cell-code}\nx = np.sort(df[\"roe\"].to_numpy())\ny = np.arange(1, len(x) + 1) / len(x)\n\nplt.plot(x, y)\nplt.title(\"ECDF de ROE\")\nplt.xlabel(\"roe (x)\")\nplt.ylabel(\"F(x) acumulada\")\nplt.ylim(0, 1)\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](05-estadisticas-descriptivas_files/figure-html/cell-17-output-1.png){width=829 height=516}\n:::\n:::\n\n\n::: {.callout-note}\n### Sintaxis clave (ECDF)\n\n- `to_numpy()` convierte la columna a arreglo.\n- `np.sort(...)` ordena de menor a mayor.\n- `np.arange(1, n+1)/n` crea el acumulado: 1/n, 2/n, ..., 1.\n:::\n\n---\n\n## 6. Resumen num√©rico: estad√≠sticos y matrices\n\n### 6.1 Resumen r√°pido con `describe`\n\n::: {#f627470a .cell execution_count=17}\n``` {.python .cell-code}\ndf[[\"roe\", \"salary\"]].describe()\n```\n\n::: {.cell-output .cell-output-display execution_count=16}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>roe</th>\n      <th>salary</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>count</th>\n      <td>80.000000</td>\n      <td>80.000000</td>\n    </tr>\n    <tr>\n      <th>mean</th>\n      <td>12.003661</td>\n      <td>113.816654</td>\n    </tr>\n    <tr>\n      <th>std</th>\n      <td>5.418543</td>\n      <td>34.735772</td>\n    </tr>\n    <tr>\n      <th>min</th>\n      <td>-7.386330</td>\n      <td>44.662729</td>\n    </tr>\n    <tr>\n      <th>25%</th>\n      <td>9.797359</td>\n      <td>88.437450</td>\n    </tr>\n    <tr>\n      <th>50%</th>\n      <td>12.042026</td>\n      <td>113.114536</td>\n    </tr>\n    <tr>\n      <th>75%</th>\n      <td>14.498293</td>\n      <td>136.610401</td>\n    </tr>\n    <tr>\n      <th>max</th>\n      <td>25.204213</td>\n      <td>223.551891</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n### 6.2 Media, mediana, varianza, desviaci√≥n est√°ndar\n\n::: {#7e5754ec .cell execution_count=18}\n``` {.python .cell-code}\ndf[\"roe\"].mean(), df[\"roe\"].median(), df[\"roe\"].var(), df[\"roe\"].std()\n```\n\n::: {.cell-output .cell-output-display execution_count=17}\n```\n(np.float64(12.003661003911507),\n 12.042026241962258,\n 29.360611235450484,\n 5.418543276144473)\n```\n:::\n:::\n\n\n### 6.3 Covarianza y correlaci√≥n\n\n::: {#5edc6897 .cell execution_count=19}\n``` {.python .cell-code}\ndf[[\"salary\", \"roe\"]].cov()\n```\n\n::: {.cell-output .cell-output-display execution_count=18}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>salary</th>\n      <th>roe</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>salary</th>\n      <td>1206.573859</td>\n      <td>8.807864</td>\n    </tr>\n    <tr>\n      <th>roe</th>\n      <td>8.807864</td>\n      <td>29.360611</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n::: {#9d48b364 .cell execution_count=20}\n``` {.python .cell-code}\ndf[[\"salary\", \"roe\"]].corr()\n```\n\n::: {.cell-output .cell-output-display execution_count=19}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>salary</th>\n      <th>roe</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>salary</th>\n      <td>1.000000</td>\n      <td>0.046796</td>\n    </tr>\n    <tr>\n      <th>roe</th>\n      <td>0.046796</td>\n      <td>1.000000</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n::: {.callout-note}\n### Sintaxis clave (cov/corr)\n\n- `df[cols]` selecciona columnas.\n- `.cov()` y `.corr()` devuelven matrices (2√ó2 si son 2 variables).\n:::\n\n---\n\n## 7. Boxplots\n\n::: {#ee6422a0 .cell execution_count=21}\n``` {.python .cell-code}\nplt.boxplot(df[\"roe\"].dropna())\nplt.title(\"Boxplot de ROE\")\nplt.ylabel(\"roe\")\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](05-estadisticas-descriptivas_files/figure-html/cell-22-output-1.png){width=827 height=493}\n:::\n:::\n\n\nPor grupo:\n\n::: {#54ac784f .cell execution_count=22}\n``` {.python .cell-code}\ndf.boxplot(column=\"roe\", by=\"haskids\")\nplt.title(\"ROE por haskids (boxplot)\")\nplt.suptitle(\"\")  # quita el t√≠tulo autom√°tico\nplt.xlabel(\"haskids\")\nplt.ylabel(\"roe\")\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](05-estadisticas-descriptivas_files/figure-html/cell-23-output-1.png){width=851 height=505}\n:::\n:::\n\n\n---\n\n## 8. Aplicaci√≥n con datos reales (opcional, online)\n\nSi quieres practicar con **bases reales**, puedes usar conjuntos de datos educativos (por ejemplo, paquetes como `wooldridge`).  \nEsto requiere instalaci√≥n y/o internet, por eso en Quarto no se ejecuta.\n\n::: {#5699c7b2 .cell execution_count=23}\n``` {.python .cell-code}\n# En VSCode: pip install wooldridge\n# En Colab:  !pip -q install wooldridge\nimport wooldridge as woo\nimport numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\n\naffairs = woo.dataWoo(\"affairs\")\n\n# Frecuencias y tablas\naffairs[\"ratemarr\"].value_counts()\npd.crosstab(affairs[\"ratemarr\"], affairs[\"kids\"], normalize=\"index\")\n\nceosal1 = woo.dataWoo(\"ceosal1\")\n\n# Histograma (frecuencia y densidad)\nplt.hist(ceosal1[\"roe\"], bins=20)\nplt.title(\"Histograma de ROE (ceosal1)\")\nplt.show()\n\nplt.hist(ceosal1[\"roe\"], bins=20, density=True)\nplt.title(\"Histograma de ROE (densidad, ceosal1)\")\nplt.show()\n\n# ECDF\nx = np.sort(ceosal1[\"roe\"].to_numpy())\ny = np.arange(1, len(x) + 1) / len(x)\nplt.plot(x, y)\nplt.title(\"ECDF de ROE (ceosal1)\")\nplt.ylim(0, 1)\nplt.show()\n\n# Estad√≠sticos y matrices\nceosal1[[\"salary\", \"roe\"]].describe()\nceosal1[[\"salary\", \"roe\"]].cov()\nceosal1[[\"salary\", \"roe\"]].corr()\n\n# Boxplot\nceosal1.boxplot(column=\"roe\")\nplt.title(\"Boxplot de ROE (ceosal1)\")\nplt.show()\n```\n:::\n\n\n---\n\n## Ejercicios propuestos\n\n1) **Frecuencias + barras**  \n   Calcula `value_counts()` de `marriage` y grafica barras horizontales.\n\n   **Respuesta esperada:** 3 barras con los conteos por categor√≠a.\n\n2) **Crosstab normalizado por filas**  \n   Crea `pd.crosstab(marriage, haskids, normalize=\"index\")`.\n\n   **Respuesta esperada:** cada fila suma 1.\n\n3) **Frecuencia vs densidad**  \n   Grafica dos histogramas de `roe`: uno con `density=False` y otro con `density=True`.\n\n   **Respuesta esperada:** cambia la escala del eje y (frecuencia vs densidad).\n\n4) **ECDF y percentil**  \n   Construye la ECDF de `roe` y estima el valor del percentil 90.\n\n   **Respuesta esperada:** un n√∫mero cercano a `df[\"roe\"].quantile(0.9)`.\n\n5) **Cov y corr**  \n   Calcula `cov()` y `corr()` para `salary` y `roe`.\n\n   **Respuesta esperada:** dos matrices 2√ó2.\n\n6) **Boxplot por grupo**  \n   Crea un boxplot de `roe` por `haskids`.\n\n   **Respuesta esperada:** 2 cajas (una por cada categor√≠a de `haskids`).\n\n---\n\n::: {.content-visible when-format=\"pdf\"}\n## Glosario (para Colab)\n\n- **frecuencia**: conteos.\n- **proporci√≥n**: conteos / total.\n- **crosstab**: tabla cruzada.\n- **densidad**: histograma escalado (`density=True`).\n- **KDE**: densidad estimada (kernel).\n- **boxplot**: gr√°fico de caja.\n- **cov / corr**: covarianza / correlaci√≥n.\n:::\n\n",
    "supporting": [
      "05-estadisticas-descriptivas_files"
    ],
    "filters": [],
    "includes": {
      "include-in-header": [
        "<script src=\"https://cdn.jsdelivr.net/npm/requirejs@2.3.6/require.min.js\" integrity=\"sha384-c9c+LnTbwQ3aujuU7ULEPVvgLs+Fn6fJUvIGTsuu1ZcCf11fiEubah0ttpca4ntM sha384-6V1/AdqZRWk1KAlWbKBlGhN7VG4iE/yAZcO6NZPMF8od0vukrvr0tg4qY6NSrItx\" crossorigin=\"anonymous\"></script>\n<script src=\"https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js\" integrity=\"sha384-ZvpUoO/+PpLXR1lu4jmpXWu80pZlYUAfxl5NsBMWOEPSjUn/6Z/hRTt8+pR6L4N2\" crossorigin=\"anonymous\" data-relocate-top=\"true\"></script>\n<script type=\"application/javascript\">define('jquery', [],function() {return window.jQuery;})</script>\n"
      ]
    }
  }
}